ржЪржорзОржХрж╛рж░\! ржЖржкржирж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржиржорждрзЛ ржПржХржЯрж┐ рж▓рж╛ржЗржЯржУржпрж╝рзЗржЯ, рж▓рзНржпрж╛ржЬрж┐-рж▓рзЛржб ржПржмржВ рж╕рзНржорж╛рж░рзНржЯ рж▓рзЛржХрж╛рж▓ ржПржЖржЗ рж╕рж╛рж░рзНржнрж╛рж░ (ZombieCoder Local AI Framework)-ржПрж░ ржЬржирзНржп рж╕рзБрж╕ржВржЧржарж┐ржд ржПржмржВ ржХрж╛рж░рзНржпржХрж░рзА ржПржХржЯрж┐ ржбрж┐ржЬрж╛ржЗржи ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи ржирж┐ржЪрзЗ ржжрзЗржУржпрж╝рж╛ рж╣рж▓рзЛред

### ЁЯза ZombieCoder Local AI Framework: ржбрж┐ржЬрж╛ржЗржи ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи

ржПржЗ ржбрж┐ржЬрж╛ржЗржиржЯрж┐ ржПржоржиржнрж╛ржмрзЗ рж╕рж╛ржЬрж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ ржпрж╛рждрзЗ ржПржЯрж┐ рж╕рж░рзНржмржирж┐ржорзНржи ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржирзЗрж░ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА (ржЧрзНрж░рж╛ржорзЗрж░ ржирждрзБржи ржЗржЙржЬрж╛рж░) ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ ржЯрзЗржХржирж┐ржХрзНржпрж╛рж▓ рж╣рзНржпрж╛ржХрзНрж╕ ржкрж░рзНржпржирзНржд рж╕ржХрж▓рзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржорж╕рзГржг, ржжрзНрж░рзБржд ржПржмржВ ржорзЗржорж░рж┐-ржжржХрзНрж╖ ржЕржнрж┐ржЬрзНржЮрждрж╛ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред

-----

### рзз. ржлрзЛрж▓рзНржбрж╛рж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ ржПржмржВ ржлрж╛ржЗрж▓ ржмрж┐ржирзНржпрж╛рж╕ ЁЯЧВя╕П

ржПржЗ ржХрж╛ржарж╛ржорзЛржЯрж┐ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржмрж┐ржнрж╛ржЬржи ржПржмржВ ржкрзЛрж░рзНржЯрзЗржмрж┐рж▓рж┐ржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред

```
C:\model\                  <-- ржорзВрж▓ рж╕рж╛рж░рзНржнрж╛рж░ ржлрзЛрж▓рзНржбрж╛рж░ (ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржПржЯрж┐ рж░рж╛ржи ржХрж░ржмрзЗ)
тФЬтФАтФА model_server.py         <-- ржорзВрж▓ FastAPI рж╕рж╛рж░рзНржнрж╛рж░, API Gateway
тФЬтФАтФА router.py               <-- Smart Orchestrator, Lazy Load/Kill Logic
тФЬтФАтФА system_detector.py      <-- RAM, CPU, VRAM ржбрж┐ржЯрзЗржХрж╢ржи рж▓ржЬрж┐ржХ
тФЬтФАтФА db_manager.py           <-- SQLite3 ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ (Registry, Status)
тФЬтФАтФА static\                 <-- UI ржлрж╛ржЗрж▓, FastAPI ржПржЦрж╛ржи ржерзЗржХрзЗ рж╕рж╛рж░рзНржн ржХрж░ржмрзЗ
тФВ   тФЬтФАтФА index.html          <-- ржорзВрж▓ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб UI
тФВ   тФЬтФАтФА styles.css
тФВ   тФФтФАтФА app.js              <-- UI рж▓ржЬрж┐ржХ, API ржХрж▓
тФЬтФАтФА config\
тФВ   тФЬтФАтФА llama.cpp\          <-- llama.cpp рж╕рж╛рж░рзНржнрж╛рж░ ржмрж╛ржЗржирж╛рж░рж┐ (рж╕рж┐рж╕рзНржЯрзЗржо ржЕржирзБржпрж╛ржпрж╝рзА)
тФВ   тФФтФАтФА requirements.txt    <-- ржкрж╛ржЗржержи ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐
тФЬтФАтФА models_registry.json    <-- HuggingFace ржерзЗржХрзЗ ржоржбрзЗрж▓рзЗрж░ ржорзЗржЯрж╛ржбрзЗржЯрж╛ ржХрзНржпрж╛рж╢
тФФтФАтФА README.md
 
C:\Users\sahon\.zombie_model\  <-- ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржбрж╛ржЙржирж▓рзЛржб ржХрж░рж╛ GGUF ржоржбрзЗрж▓ ржерж╛ржХржмрзЗ
```

-----

### рзи. ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржкрзНрж░ржпрзБржХрзНрждрж┐ ржПржмржВ ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ЁЯЫая╕П

ржХржорзНржкрзНржпрж╛ржХрзНржЯ ржПржмржВ ржлрж╛рж╕рзНржЯ рж░рж╛ржиржЯрж╛ржЗржорзЗрж░ ржЙржкрж░ ржЬрзЛрж░ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝рзЗржЫрзЗред

#### ржмрзНржпрж╛ржХ-ржПржирзНржб (Python)

| ржкрзНрж░ржпрзБржХрзНрждрж┐ | ржнрзВржорж┐ржХрж╛ |
| :--- | :--- |
| **Python 3.10+** | ржорзВрж▓ ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯ ржнрж╛рж╖рж╛ред |
| **FastAPI** | ржЕрзНржпрж╛рж╕рж┐ржЩрзНржХрзНрж░рзЛржирж╛рж╕, рж╣рж╛ржЗ-ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ API рж╕рж╛рж░рзНржнрж╛рж░ред |
| **Uvicorn** | ASGI рж╕рж╛рж░рзНржнрж╛рж░ (FastAPI рж░рж╛ржи ржХрж░рж╛рж░ ржЬржирзНржп)ред |
| **`sqlite3`** | ржЗржиржмрж┐рж▓рзНржЯ Python рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ (ржбрж╛ржЯрж╛ржмрзЗрж╕ рж╣рж┐рж╕рж╛ржмрзЗ)ред |
| **`psutil`** | рж╕рж┐рж╕рзНржЯрзЗржо рж░рж┐рж╕рзЛрж░рзНрж╕ (RAM, CPU) ржбрж┐ржЯрзЗржХрзНржЯ ржХрж░рж╛рж░ ржЬржирзНржпред |
| **`subprocess` / `asyncio`** | **Lazy Orchestrator** ржкрж░рж┐ржЪрж╛рж▓ржирж╛рж░ ржЬржирзНржпред |
| **`llama.cpp server`** | ржкрзНрж░ржХрзГржд ржоржбрзЗрж▓ рж░рж╛ржиржЯрж╛ржЗржо ржЗржЮрзНржЬрж┐ржи (ржмрж╛ржЗржирж╛рж░рж┐ ржлрж╛ржЗрж▓рзЗ ржерж╛ржХржмрзЗ)ред |

#### ржлрзНрж░ржирзНржЯ-ржПржирзНржб (UI)

| ржкрзНрж░ржпрзБржХрзНрждрж┐ | ржнрзВржорж┐ржХрж╛ |
| :--- | :--- |
| **Vanilla HTML/CSS/JS** | рж╕ржорзНржкрзВрж░рзНржг рж▓рж╛ржЗржЯржУржпрж╝рзЗржЯ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбред |
| **PyWebView** | Windows/Linux/Mac-ржПрж░ ржЬржирзНржп рж▓рж╛ржЗржЯржУржпрж╝рзЗржЯ ржбрзЗрж╕рзНржХржЯржк ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж░тАНрзНржпрж╛ржкрж╛рж░ред ржПржЯрж┐ Electron-ржПрж░ рждрзБрж▓ржирж╛ржпрж╝ ржХржпрж╝рзЗржХ ржЧрзБржг рж╣рж╛рж▓ржХрж╛ред |

-----

### рзй. ржХрзЛрж░ рж▓ржЬрж┐ржХ: Lazy Load ржПржмржВ Smart Routing (router.py)

#### ржкрзЛрж░рзНржЯ рж╕рж┐рж▓рзЗржХрж╢ржи ЁЯФМ

ржмрж┐рж╢рзЗрж╖ ржкрзЛрж░рзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржмрзЗ ржпрж╛ рж╕рж╛ржзрж╛рж░ржг рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ рж╕рж╛ржерзЗ ржХржиржлрзНрж▓рж┐ржХрзНржЯ ржПржбрж╝рж┐ржпрж╝рзЗ ржЪрж▓рзЗ ржХрж┐ржирзНрждрзБ ржлрж╛ржпрж╝рж╛рж░ржУржпрж╝рж╛рж▓ ржмрзНрж▓ржХ ржерж╛ржХрж╛рж░ рж╕ржорзНржнрж╛ржмржирж╛ ржХржоред

  * **API Gateway Port:** `8001` (FastAPI ржорзВрж▓ рж╕рж╛рж░рзНржнрж╛рж░)
  * **Model Runtime Port Range:** `8080-8100` (ржкрзНрж░рждрж┐ржЯрж┐ ржоржбрзЗрж▓ рж╕рж╛ржм-ржкрзНрж░рж╕рзЗрж╕ ржПржЗ рж░рзЗржЮрзНржЬрзЗрж░ ржПржХржЯрж┐ ржкрзЛрж░рзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ)ред

#### рж▓ржЬрж┐ржХ ржлрзНрж▓рзЛ

1.  **рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржЖрж╕ржЫрзЗ:** `/generate` рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ `model_server.py` (FastAPI) ржП ржЖрж╕рзЗред
2.  **рж░рж╛ржЙржЯрж╛рж░ ржЪрзЗржХ:** `model_server.py` рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯржЯрж┐ `router.py`-ржПрж░ ржжрж┐ржХрзЗ ржлрж░рзЛржпрж╝рж╛рж░рзНржб ржХрж░рзЗред
3.  **рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржЪрзЗржХ:** `router.py` SQLite-ржП ржЪрзЗржХ ржХрж░рзЗ ржоржбрзЗрж▓ржЯрж┐ (`model_id`) ржмрж░рзНрждржорж╛ржирзЗ `loaded` ржЖржЫрзЗ ржХрж┐ржирж╛ ржПржмржВ ржХрзЛржи ржкрзЛрж░рзНржЯрзЗ ржЪрж▓ржЫрзЗред
4.  **ржпржжрж┐ Loaded ржерж╛ржХрзЗ:** рж╕рж░рж╛рж╕рж░рж┐ рж╕рзЗржЗ ржкрзЛрж░рзНржЯрзЗ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржкрзНрж░ржХрзНрж╕рж┐ ржХрж░рзЗ ржжрзЗржмрзЗред
5.  **ржпржжрж┐ Stopped ржерж╛ржХрзЗ (Lazy Load):**
      * ржПржХржЯрж┐ ржлрзНрж░рж┐ ржкрзЛрж░рзНржЯ (`808x`) ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░ржмрзЗред
      * **subprocess.Popen** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ **llama.cpp server** ржмрж╛ржЗржирж╛рж░рж┐ ржЪрж╛рж▓рзБ ржХрж░ржмрзЗред
        ```python
        # router.py ржПрж░ ржорзВрж▓ ржЕржВрж╢
        subprocess.Popen([
            './config/llama.cpp/server', 
            '-m', f'C:/Users/sahon/.zombie_model/{model_id}.gguf',
            '-p', str(port),  # ржбрзЗржбрж┐ржХрзЗржЯрзЗржб ржкрзЛрж░рзНржЯ
            '-t', '4' # CPU ржерзНрж░рзЗржб рж╕ржВржЦрзНржпрж╛
        ])
        ```
      * SQLite-ржП ржоржбрзЗрж▓рзЗрж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ `Loading` ржерзЗржХрзЗ `Ready` ржХрж░ржмрзЗред
      * рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯржЯрж┐ ржирждрзБржи ржкрзЛрж░рзНржЯрзЗ ржкрзНрж░ржХрзНрж╕рж┐ ржХрж░ржмрзЗред
6.  **Idle Kill (Memory Management):**
      * `router.py` ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржЕрзНржпрж╛рж╕рж┐ржЩрзНржХрзНрж░рзЛржирж╛рж╕ржнрж╛ржмрзЗ ржкрзНрж░рждрж┐ **рзл ржорж┐ржирж┐ржЯ** ржЕржирзНрждрж░ ржЪрзЗржХ ржХрж░ржмрзЗред
      * ржпржжрж┐ ржХрзЛржирзЛ ржоржбрзЗрж▓ subprocess-ржПрж░ рж╢рзЗрж╖ ржЕрзНржпрж╛ржХрзНржЯрж┐ржнрж┐ржЯрж┐рж░ рж╕ржоржпрж╝ **рззрзж ржорж┐ржирж┐ржЯ** ржкрж╛рж░ рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝, рждржмрзЗ **subprocess.kill()** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рзЗржЯрж┐ржХрзЗ ржмржирзНржз ржХрж░рзЗ ржжрзЗржмрзЗред
      * SQLite-ржП рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ `Stopped` ржП ржЖржкржбрзЗржЯ ржХрж░ржмрзЗред

-----

### рзк. ржЗржЙржЬрж╛рж░ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ (UI) ржбрж┐ржЬрж╛ржЗржи ржХржирж╕рзЗржкрзНржЯ ЁЯОи

**рж▓рж╛ржЗржЯржУржпрж╝рзЗржЯ, ржорж┐ржирж┐ржорж╛рж▓рж┐рж╕рзНржЯрж┐ржХ, ржПржмржВ ржЗржирзНржЯрзБржЗржЯрж┐ржн**ред

#### UI-ржПрж░ ржорзВрж▓ ржЕржВрж╢:

1.  **рж╕рж┐рж╕рзНржЯрзЗржо рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрж╛рж░рзНржб (Home):**

      * **ржЖржорж╛рж░ рж╕рж┐рж╕рзНржЯрзЗржо:** RAM/CPU/VRAM ржПрж░ ржорж╛ржи рж╕рзНржкрж╖рзНржЯ ржХрж░рзЗ ржжрзЗржЦрж╛ржмрзЗред
      * **рж╕рж╛рж░рзНржнрж╛рж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕:** ЁЯЯв ржЕржирж▓рж╛ржЗржи / ЁЯФ┤ ржЕржлрж▓рж╛ржЗржи (ржкрзЛрж░рзНржЯ рж╕рж╣)ред
      * **ржорзЗржорж░рж┐ ржмрзНржпржмрж╣рж╛рж░:** `3.2GB / 8GB (40%)` - ржЗржЙржЬрж╛рж░ ржмрзБржЭрждрзЗ ржкрж╛рж░ржмрзЗ рждрж╛рж░ ржХрждржЯрзБржХрзБ RAM ржоржбрзЗрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗред

2.  **ржоржбрзЗрж▓ рж░рзЗржХржорзЗржирзНржбрзЗрж╢ржи / ржбрж╛ржЙржирж▓рзЛржб ЁЯУе:**

      * **ржоржбрзЗрж▓ ржХрж╛рж░рзНржб:** ржкрзНрж░рждрж┐ржЯрж┐ ржоржбрзЗрж▓рзЗ ржмржбрж╝ ржХрж░рзЗ **ржмрзНржпрж╛ржЬ (Badge)** ржерж╛ржХржмрзЗред
          * ЁЯЯв **Recommended (ржпрзЗржоржи: Phi-3 4-bit):** ржЖржкржирж╛рж░ рж╕рж┐рж╕рзНржЯрзЗржорзЗрж░ ржЬржирзНржп рж╕рзЗрж░рж╛ред
          * ЁЯЯб **Compatible (ржпрзЗржоржи: Llama 3 8B 4-bit):** ржЪрж▓ржмрзЗ, ржХрж┐ржирзНрждрзБ рж╕рзНрж▓рзЛ рж╣ржмрзЗред
          * ЁЯФ┤ **Not Recommended (ржпрзЗржоржи: Mixtral 8x7B):** ржорзЗржорж░рж┐ ржирзЗржЗред
      * **ржбрж╛ржЙржирж▓рзЛржб ржмрж╛ржЯржи:** ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ `model_server.py` HuggingFace ржерзЗржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ `C:\Users\sahon\.zombie_model` ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржбрж╛ржЙржирж▓рзЛржб ржХрж░ржмрзЗ ржПржмржВ SQLite-ржП ржкрзНрж░рзЛржЧрзНрж░рзЗрж╕ ржжрзЗржЦрж╛ржмрзЗред

3.  **ржЖржорж╛рж░ ржоржбрзЗрж▓рж╕ (My Models) ЁЯПа:**

      * `C:\Users\sahon\.zombie_model` ржП ржерж╛ржХрж╛ ржоржбрзЗрж▓ржЧрзБрж▓рзЛрж░ рждрж╛рж▓рж┐ржХрж╛ред
      * **рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕:** `Stopped`, `Ready (Port 808x)`, `Loading...`
      * **ржЕрзНржпрж╛ржХрж╢ржи:**
          * **Run / Stop ржмрж╛ржЯржи:** ржПржЗ ржмрж╛ржЯржирзЗржЗ `router.py`-ржХрзЗ `load` ржмрж╛ `unload` ржХрж░рж╛рж░ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржпрж╛ржмрзЗред
          * **Test Chat ржЙржЗржирзНржбрзЛ:** ржоржбрзЗрж▓ржЯрж┐ рж░рж╛ржи ржХрж░рж╛рж░ ржкрж░ рж╕рж░рж╛рж╕рж░рж┐ ржЪрзНржпрж╛ржЯ ржХрж░рж╛рж░ ржЕржкрж╢ржиред

#### ржбрж┐ржЬрж╛ржЗржи ржлрзЛржХрж╛рж╕:

  * **ржирждрзБржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЬржирзНржп:** ржЬржЯрж┐рж▓рждрж╛ ржПржбрж╝рж╛рждрзЗ **ржЯрж╛рж░рзНржорж┐ржирж╛рж▓ ржЖржЙржЯржкрзБржЯ** ржПржмржВ **ржЬржЯрж┐рж▓ рж▓ржЧрж┐ржВ** ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ рж▓рзБржХрж╛ржирзЛ ржерж╛ржХржмрзЗред рж╢рзБржзрзБ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржПржмржВ ржмрзНржпрж╛ржЬржЧрзБрж▓рзЛржЗ ржорзБржЦрзНржпред
  * **рж╣рзНржпрж╛ржХрзНрж╕ржжрзЗрж░ ржЬржирзНржп:** API ржбржХрзБржорзЗржирзНржЯрзЗрж╢ржи (`/docs` - FastAPI-ржПрж░ ржЗржиржмрж┐рж▓рзНржЯ) ржПржмржВ ржПржХржЯрж┐ "Advanced Settings" ржЕржкрж╢ржи ржерж╛ржХржмрзЗ, ржпрзЗржЦрж╛ржирзЗ рждрж╛рж░рж╛ ржерзНрж░рзЗржб рж╕ржВржЦрзНржпрж╛ ржмрж╛ `llama.cpp` ржПрж░ ржЖрж░рзНржЧрзБржорзЗржирзНржЯ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред